<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Album Listening Session — RSVP</title>

    <!-- Favicon -->
    <link rel="icon" href="/LOLLIE LOGO.png" type="image/png" />

    <!-- Icons & Fonts -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />

    <!-- Firebase (compat builds) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
      :root {
        /* Backie-adjacent palette: navy / white / black + a touch of gold */
        --bg: #0b0e14; /* deep navy */
        --bg-2: #0f1421; /* darker navy */
        --ink: #eaeaea; /* off-white */
        --muted: #a7a7a7; /* cool grey */
        --line: #1c2333; /* grid line */
        --gold: #e4b34e; /* accent */
        --accent: #0a84ff; /* neon blue */
        --accent-dark: var(--accent); /* define to avoid undefined var */
        --shadow: rgba(0, 0, 0, 0.35);
        --blur: blur(10px);
        --r: 16px;
        --trans: all 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial,
          sans-serif;
        background: radial-gradient(
            1200px 800px at 10% 10%,
            #10172a 0%,
            transparent 60%
          ),
          radial-gradient(900px 700px at 90% 80%, #141b2f 0%, transparent 60%),
          var(--bg);
        color: var(--ink);
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* Subtle grid */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-image: linear-gradient(
            to right,
            rgba(255, 255, 255, 0.03) 1px,
            transparent 1px
          ),
          linear-gradient(
            to bottom,
            rgba(255, 255, 255, 0.03) 1px,
            transparent 1px
          );
        background-size: 48px 48px;
        opacity: 0.35;
        pointer-events: none;
      }

      a {
        color: inherit;
        text-decoration: none;
      }
      .container {
        width: min(1200px, 92%);
        margin-inline: auto;
      }

      /* Header */
      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        background: rgba(9, 12, 20, 0.65);
        backdrop-filter: var(--blur);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        transform: translateY(-100%);
        transition: transform 0.5s ease;
      }
      header.visible {
        transform: translateY(0);
      }
      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 18px 0;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 800;
        letter-spacing: 0.5px;
      }
      .brand .mark {
        height: clamp(28px, 3.2vw, 42px);
        width: auto;
        max-width: 180px;
        object-fit: contain;
        display: block;
        border-radius: 0;
        background: none;
        box-shadow: none;
      }
      .brand {
        gap: clamp(8px, 1.6vw, 14px);
      }
      .brand b {
        font-size: clamp(22px, 3.2vw, 28px);
      }
      @media (max-width: 480px) {
        .brand .mark {
          height: 28px;
          max-width: 140px;
        }
      }
      .brand b {
        font-family: "Bebas Neue", system-ui;
        font-size: 28px;
        letter-spacing: 1px;
      }
      nav ul {
        display: flex;
        gap: 28px;
        list-style: none;
      }
      nav a {
        font-weight: 600;
        opacity: 0.9;
      }
      nav a:hover {
        opacity: 1;
      }
      .cta {
        padding: 10px 16px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .cta.primary {
        background: linear-gradient(120deg, var(--gold), #f6d27a);
        color: #141414;
        border: none;
        box-shadow: 0 8px 28px rgba(228, 179, 78, 0.25);
      }

      /* Event Info */
      .info {
        padding: 72px 0;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          transparent
        );
      }
      .info-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 22px;
      }
      @media (max-width: 900px) {
        .info-grid {
          grid-template-columns: 1fr 1fr;
        }
      }
      @media (max-width: 560px) {
        .info-grid {
          grid-template-columns: 1fr;
        }
      }
      .info-tile {
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: var(--r);
        padding: 18px 18px 16px;
        display: flex;
        gap: 14px;
        align-items: flex-start;
      }
      .info-tile i {
        color: var(--gold);
        font-size: 22px;
        margin-top: 4px;
      }
      .info-tile h4 {
        font-size: 13px;
        letter-spacing: 0.18em;
        font-weight: 700;
        color: white;
        text-transform: uppercase;
      }
      .info-tile p {
        color: var(--muted);
      }

      /* About / Tracklist */
      .about {
        padding: 80px 0;
        display: grid;
        gap: 50px;
      }
      .section-head {
        display: flex;
        justify-content: space-between;
        align-items: end;
      }
      .section-head h2 {
        font-family: "Bebas Neue";
        font-size: 56px;
        letter-spacing: 0.5px;
      }
      .section-head p {
        color: var(--muted);
      }
      .about-grid {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 36px;
      }
      @media (max-width: 980px) {
        .about-grid {
          grid-template-columns: 1fr;
        }
      }
      .about-card {
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: var(--r);
        padding: 22px;
      }
      .track {
        display: flex;
        justify-content: space-between;
        padding: 12px 10px;
        border-bottom: 1px dashed rgba(255, 255, 255, 0.08);
      }
      .track:last-child {
        border: none;
      }
      .tag {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.03);
        font-size: 12px;
        color: var(--muted);
      }

      /* Gallery */
      .gallery {
        padding: 80px 0;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 14px;
      }
      .shot {
        position: relative;
        height: 320px;
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.08);
      }
      .shot img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.8s ease;
      }
      .shot:hover img {
        transform: scale(1.05);
      }
      .c-6 {
        grid-column: span 6;
      }
      .c-4 {
        grid-column: span 4;
      }
      .c-8 {
        grid-column: span 8;
      }
      @media (max-width: 900px) {
        .c-6,
        .c-4,
        .c-8 {
          grid-column: span 12;
        }
      }

      /* RSVP */
      .rsvp {
        padding: 90px 0;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          transparent
        );
      }
      .rsvp-wrap {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 36px;
      }
      @media (max-width: 960px) {
        .rsvp-wrap {
          grid-template-columns: 1fr;
        }
      }
      .card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 22px;
        box-shadow: 0 20px 60px var(--shadow);
      }
      form {
        display: grid;
        gap: 14px;
      }
      label {
        font-size: 0.9rem;
        color: var(--muted);
      }
      input,
      select,
      textarea {
        width: 100%;
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.35);
        color: var(--ink);
        outline: none;
        transition: var(--trans);
      }
      input:focus,
      select:focus,
      textarea:focus {
        border-color: var(--gold);
        box-shadow: 0 0 0 4px rgba(228, 179, 78, 0.15);
      }
      button {
        padding: 12px 16px;
        border-radius: 14px;
        border: none;
        font-weight: 800;
        cursor: pointer;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .btn-primary {
        background: linear-gradient(120deg, var(--gold), #f6d27a);
        color: #141414;
      }
      .btn-ghost {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.16);
        color: var(--ink);
      }

      /* Footer */
      footer {
        padding: 40px 0;
        color: var(--muted);
        border-top: 1px solid rgba(255, 255, 255, 0.06);
      }

      /* Utilities */
      .pill {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
      }
      /* pill1 used in the flyer */
      .pill1 {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        font-size: 12px;
        color: var(--ink);
      }

      /* Full-bleed hero image */
      .hero {
        min-height: 100vh;
        padding-top: 120px;
        display: grid;
        place-items: center;
        position: relative;
      }
      .hero--image {
        background: url("/AMANDLA.png") center / cover no-repeat;
      }
      .hero--image .hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.55) 0%,
          rgba(0, 0, 0, 0.25) 45%,
          rgba(0, 0, 0, 0.65) 100%
        );
        pointer-events: none;
      }
      /* scroll cue */
      .scroll-cue {
        margin-top: 1rem;
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        gap: 0.45rem;
        color: var(--accent-dark);
        text-decoration: none;
        font-weight: 600;
        opacity: 0.9;
      }
      .mouse {
        width: 22px;
        height: 34px;
        border: 2px solid var(--accent-dark);
        border-radius: 999px;
        position: relative;
      }
      .wheel {
        position: absolute;
        left: 50%;
        top: 7px;
        width: 3px;
        height: 6px;
        margin-left: -1.5px;
        background: var(--accent-dark);
        border-radius: 2px;
        animation: wheel 1.6s ease-in-out infinite;
      }
      @keyframes wheel {
        0% {
          transform: translateY(0);
          opacity: 1;
        }
        70% {
          transform: translateY(8px);
          opacity: 0.2;
        }
        100% {
          transform: translateY(0);
          opacity: 1;
        }
      }
      .arrow {
        font-size: 1rem;
        animation: bounce 1.6s ease-in-out infinite;
      }
      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(3px);
        }
      }

      /* hero content */
      .hero-wrap {
        position: relative;
        z-index: 1;
        display: grid;
        grid-template-columns: 1fr;
        gap: 22px;
        width: 100%;
        text-align: left;
      }
      .hero-copy {
        max-width: 780px;
      }
      .title {
        color: var(--ink);
        text-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
      }
      .subtitle {
        color: #ececec;
        font-size: clamp(1rem, 2.2vw, 1.25rem);
        max-width: 60ch;
      }
      .hero-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        margin-top: 8px;
      }
      .flyer {
        display: none;
      }
      @media (max-width: 900px) {
        .hero-wrap {
          text-align: center;
        }
        .hero-meta {
          justify-content: center;
        }
      }

      /* Hero 2 */
      .hero1 {
        min-height: calc(100vh - 90px);
        display: grid;
        place-items: center;
        padding: clamp(40px, 8vh, 80px) 0;
        position: relative;
        text-align: center;
      }
      .hero-wrap1 {
        width: min(1100px, 92%);
        margin-inline: auto;
        display: grid;
        gap: 14px;
      }
      .kicker1 {
        color: var(--gold);
        letter-spacing: 0.15em;
        font-weight: 700;
        text-transform: uppercase;
      }
      .title1 {
        font-family: "Bebas Neue", system-ui, sans-serif;
        font-size: clamp(42px, 8vw, 92px);
        line-height: 1.02;
        color: var(--ink);
        text-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
      }
      .subtitle1 {
        color: var(--muted);
        font-size: clamp(1rem, 2.2vw, 1.25rem);
        max-width: 80ch;
        margin-inline: auto;
      }
      .hero-cta1 {
        margin-top: 18px;
        display: flex;
        gap: 14px;
        justify-content: center;
        flex-wrap: wrap;
      }
      @media (max-width: 600px) {
        .hero1 {
          min-height: 90vh;
        }
      }

      /* Bottom-centered scroll cue positioning */
      .hero,
      .hero--image {
        position: relative;
        min-height: 100vh;
      }
      .hero .hero-overlay {
        position: absolute;
        inset: 0;
        z-index: 1;
        pointer-events: none;
      }
      .scroll-cue {
        position: absolute;
        left: 50%;
        bottom: clamp(16px, 5vh, 40px);
        transform: translateX(-50%);
        z-index: 2;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        pointer-events: auto;
        opacity: 0.9;
      }
      .scroll-cue .mouse {
        width: 26px;
        height: 44px;
        border: 2px solid rgba(255, 255, 255, 0.6);
        border-radius: 16px;
        display: grid;
        place-items: center;
        background: rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(6px);
      }
      .scroll-cue .wheel {
        display: block;
        width: 4px;
        height: 8px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 4px;
        text-indent: -9999px;
        overflow: hidden;
        animation: wheel-drop 1.6s infinite;
      }
      .scroll-cue .arrow i {
        font-size: 14px;
        opacity: 0.9;
        animation: arrow-bounce 1.6s infinite;
      }
      @keyframes wheel-drop {
        0% {
          transform: translateY(-6px);
          opacity: 0.2;
        }
        50% {
          transform: translateY(4px);
          opacity: 1;
        }
        100% {
          transform: translateY(-6px);
          opacity: 0.2;
        }
      }
      @keyframes arrow-bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(4px);
        }
      }
      @media (max-width: 520px) {
        .scroll-cue {
          bottom: 18px;
        }
      }

      /* Motion + hovers */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
      nav a {
        position: relative;
      }
      nav a::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -6px;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--gold), #f6d27a);
        transition: width 0.3s ease;
      }
      nav a:hover::after {
        width: 100%;
      }
      .brand .mark {
        transition: transform 0.35s ease, box-shadow 0.35s ease,
          filter 0.35s ease;
        will-change: transform;
      }
      .brand:hover .mark {
        transform: rotate(-4deg) scale(1.04);
        box-shadow: 0 14px 40px rgba(228, 179, 78, 0.25);
        filter: saturate(1.1);
      }
      .btn,
      .cta {
        position: relative;
        transition: transform 0.2s ease, box-shadow 0.3s ease,
          background 0.3s ease, border-color 0.3s ease;
        will-change: transform;
      }
      .btn:hover,
      .cta:hover {
        transform: translateY(-2px);
      }
      .cta.primary,
      .btn-primary {
        box-shadow: 0 10px 30px rgba(228, 179, 78, 0.22);
      }
      .cta.primary:hover,
      .btn-primary:hover {
        box-shadow: 0 16px 40px rgba(228, 179, 78, 0.33);
      }
      .cta.primary::before,
      .btn-primary::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          120deg,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.25) 40%,
          rgba(255, 255, 255, 0) 60%
        );
        transform: translateX(-120%);
        transition: transform 0.6s ease;
        pointer-events: none;
      }
      .cta.primary:hover::before,
      .btn-primary:hover::before {
        transform: translateX(120%);
      }
      .pill {
        transition: transform 0.25s ease, border-color 0.25s ease,
          background 0.25s ease;
      }
      .pill:hover {
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.24);
        background: rgba(255, 255, 255, 0.09);
      }
      .card,
      .about-card,
      .info-tile {
        transition: transform 0.35s var(--trans), box-shadow 0.35s var(--trans),
          border-color 0.35s var(--trans), background 0.35s var(--trans);
        will-change: transform;
      }
      .card:hover,
      .about-card:hover,
      .info-tile:hover {
        transform: translateY(-6px);
        border-color: rgba(255, 255, 255, 0.18);
        background: rgba(255, 255, 255, 0.07);
        box-shadow: 0 26px 70px var(--shadow);
      }
      .shot::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          60% 60% at 70% 30%,
          rgba(0, 0, 0, 0),
          rgba(0, 0, 0, 0.35)
        );
        opacity: 0;
        transition: opacity 0.5s ease;
      }
      .shot:hover::after {
        opacity: 1;
      }
      input:hover,
      select:hover,
      textarea:hover {
        border-color: rgba(255, 255, 255, 0.22);
      }
      input:valid,
      textarea:valid {
        border-color: rgba(83, 79, 79, 0.6);
      }
      .scroll-cue {
        transition: transform 0.25s ease, opacity 0.25s ease;
      }
      .scroll-cue:hover {
        transform: translateX(-50%) translateY(-2px);
        opacity: 1;
      }
      .flyer,
      .flyer1 {
        transform-style: preserve-3d;
        perspective: 900px;
        transition: transform 0.18s ease, box-shadow 0.3s ease;
      }
      .flyer:hover,
      .flyer1:hover {
        box-shadow: 0 26px 70px rgba(0, 0, 0, 0.5);
      }
      .reveal {
        opacity: 0;
        transform: translateY(18px) scale(0.98);
        filter: blur(6px);
      }
      .reveal.is-in {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
        transition: opacity 0.8s ease, transform 0.8s ease, filter 0.8s ease;
      }
      .info-tile i {
        text-shadow: 0 0 18px rgba(228, 179, 78, 0.35);
      }
      footer .pill {
        transition: transform 0.25s ease, background 0.25s ease;
      }
      footer .pill:hover {
        transform: translateY(-2px);
        background: rgba(255, 255, 255, 0.09);
      }
      /* ---------- Loader + Modal ---------- */
      .hidden {
        display: none !important;
      }

      #global-loader {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: none;
        align-items: center;
        justify-content: center;
        background: radial-gradient(
          60% 60% at 50% 40%,
          rgba(0, 0, 0, 0.55),
          rgba(0, 0, 0, 0.75)
        );
        backdrop-filter: blur(6px);
      }
      #global-loader .spinner {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        border: 4px solid rgba(255, 255, 255, 0.15);
        border-top-color: var(--gold);
        animation: spin 0.9s linear infinite;
        box-shadow: 0 0 28px rgba(228, 179, 78, 0.25);
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      #confirm-modal {
        position: fixed;
        inset: 0;
        z-index: 9998;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.55);
        backdrop-filter: blur(6px);
        padding: 24px;
      }
      #confirm-modal .dialog {
        width: min(520px, 92%);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.14);
        border-radius: 18px;
        padding: 22px;
        box-shadow: 0 24px 70px rgba(0, 0, 0, 0.45);
        color: var(--ink);
      }
      #confirm-modal .dialog h3 {
        font-family: "Bebas Neue";
        font-size: 34px;
        margin-bottom: 6px;
      }
      #confirm-modal .dialog p {
        color: var(--muted);
      }
      #confirm-modal .actions {
        margin-top: 14px;
        display: flex;
        gap: 10px;
        justify-content: flex-end;
      }
      #confirm-modal .actions .btn-close {
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: transparent;
        color: var(--ink);
        padding: 10px 14px;
        border-radius: 12px;
        font-weight: 700;
        cursor: pointer;
      }
      #confirm-modal .actions .btn-primary {
        background: linear-gradient(120deg, var(--gold), #f6d27a);
        color: #141414;
        padding: 10px 14px;
        border-radius: 12px;
        font-weight: 800;
        border: none;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header id="header">
      <div class="container nav">
        <a href="#" class="brand">
          <img
            class="mark"
            src="/LOLLIE LOGO.png"
            alt="Album Artwork / Artist Portrait"
          />
          <b>Amandla Listening Experience</b>
        </a>
        <!-- <nav>
          <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#rsvp" class="cta">RSVP</a></li>
          </ul>
        </nav> -->
      </div>
    </header>

    <!-- Hero -->
    <section class="hero hero--image">
      <div class="hero-overlay"></div>
      <a href="#info1" class="scroll-cue" aria-label="Scroll to details">
        <div class="mouse"><span class="wheel">scroll</span></div>
        <span class="arrow"><i class="fa-solid fa-angle-down"></i></span>
      </a>
    </section>

    <!-- Hero 2 -->
    <section class="hero1" id="info1">
      <div class="container hero-wrap1">
        <div>
          <span class="kicker1"> 38 Talent Management presents </span>
          <h1 class="title1">Amandla Listening Experience</h1>
          <p class="subtitle1">
            Join Lolli Native as he unveils his highly anticipated second studio
            album. Born and raised in Nyanga, his lyrics blend Xhosa lyricism
            with the grit of the streets, transforming lived experience into art
            that resonates far beyond Nyanga.
            <br /><br />
            Crowned Buddha of the Year, Lolli curates an intimate evening of
            rhythm, storytelling, and presence, a milestone defined by culture,
            creativity, and authenticity.
            <br /><br />
            Experience every verse, every beat, every moment.
          </p>
          <div class="hero-cta1">
            <a href="#rsvp" class="cta primary"
              ><i class="fa-regular fa-calendar-check"></i> Reserve your spot</a
            >
            <a href="#about" class="cta"
              ><i class="fa-solid fa-circle-play"></i> About the project</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Event Info -->
    <section class="info">
      <div class="container info-grid">
        <div class="info-tile">
          <i class="fa-solid fa-calendar-day"></i>
          <div>
            <h4>Date</h4>
            <p>Thursday, 18 September 2025</p>
          </div>
        </div>
        <div class="info-tile">
          <i class="fa-solid fa-clock"></i>
          <div>
            <h4>Time</h4>
            <p>Doors open at 18:00. Experience begins at 19:00</p>
          </div>
        </div>
        <div class="info-tile">
          <i class="fa-solid fa-location-arrow"></i>
          <div>
            <h4>Venue</h4>
            <p>
              Hyde Park. The exact location will be revealed closer to the event
            </p>
          </div>
        </div>
        <div class="info-tile">
          <i class="fa-solid fa-user-group"></i>
          <div>
            <h4>Capacity</h4>
            <p>Limited seats • RSVP essential</p>
          </div>
        </div>
      </div>
    </section>

    <!-- About & Tracklist -->
    <section id="about" class="about container">
      <div class="section-head">
        <h2>The Project</h2>
      </div>
      <div class="about-grid">
        <div class="about-card">
          <h3 style="margin-bottom: 10px">The Sound and Storytelling</h3>
          <p style="color: var(--ink); opacity: 0.9">
            “Amandla” is Lolli Native’s heartfelt tribute to strength,
            resilience, and the people who lift us when we fall. Dedicated to
            his sister Amanda, a pillar of support and inspiration, the album
            celebrates family, friends, and community who have shaped his
            journey. Blending Spaza-rooted hip-hop, gospel influences, and
            modern African sounds, Amandla features collaborations with Esethu
            Siwe, Bugzito, Jay Claude, 25K, Anzo, Saudi, Phila Madlingozi, and
            Emtee. Every track carries honesty, gratitude, and purpose, creating
            music that is both intimate and powerful. With Amandla, Lolli Native
            shares his story, honors his roots, and celebrates the unity and
            love that make us stronger.
          </p>
          <div style="margin-top: 18px">
            <iframe
              style="
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
              "
              src="https://open.spotify.com/embed/track/6FuxFjQ53Yj8w4mMoRIpwh?utm_source=generator"
              width="100%"
              height="85"
              frameborder="0"
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
              loading="lazy"
            >
            </iframe>
          </div>
        </div>
        <div class="about-card">
          <h3 style="margin-bottom: 10px">Tracklist (Sneak Peek)</h3>
          <div class="track"><span>01. Amanda</span><span>3:12</span></div>
          <div class="track">
            <span>02. Moya ft. Esethi Siwe, Kae Wax</span><span>2:47</span>
          </div>
          <div class="track">
            <span>03. Amandla ft. ATM</span><span>1:06</span>
          </div>
          <div class="track">
            <span>04. Wena ft. Anzo x Bugzito</span><span>3:58</span>
          </div>
          <div class="track">
            <span>05. Too Late ft. Phila Madlingozi</span><span>3:21</span>
          </div>
          <div class="track">
            <span>06. Guess Who’s Back ft. Emtee</span><span>2:59</span>
          </div>
          <div class="track"><span>07. Spaza</span><span>3:36</span></div>
          <div class="track"><span>08. Sifikile</span><span>3:36</span></div>
          <div class="track">
            <span>09. Bad Man ft. 25K x Jay Claude</span><span>3:36</span>
          </div>
          <div class="track">
            <span>10. Enkosi ft. Yamke x Lerato Lechaba</span><span>3:36</span>
          </div>
        </div>
      </div>
    </section>

    <!-- RSVP -->
    <section id="rsvp" class="rsvp">
      <div class="container rsvp-wrap">
        <div class="card">
          <h2
            style="
              font-family: 'Bebas Neue';
              font-size: 48px;
              margin-bottom: 6px;
            "
          >
            RSVP
          </h2>
          <p style="color: var(--muted); margin-bottom: 14px">
            Sorry RSVP IS OFFICIALY CLOSED
          </p>
          <!-- <form id="rsvp-form">
            <div>
              <label for="name">Full Name</label>
              <input
                id="name"
                name="name"
                type="text"
                placeholder="Your name"
                required
              />
            </div>
            <div>
              <label for="email">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                placeholder="you@example.com"
                required
              />
            </div>
            <div>
              <label for="phone">Phone (WhatsApp)</label>
              <input id="phone" name="phone" type="tel" placeholder="+27 …" />
            </div>
            <!-- Guests is intentionally commented out -->
            <!-- <div>
              <label for="attend">Will you attend?</label>
              <select id="attend" name="attend" required>
                <option value="Yes">Yes</option>
                <option value="Maybe">Maybe</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label for="notes">Notes (dietary, access needs, etc.)</label>
              <textarea
                id="notes"
                name="notes"
                rows="4"
                placeholder="Anything we should know?"
              ></textarea>
            </div> -->
            <div
              style="display: flex; gap: 12px; flex-wrap: wrap; margin-top: 6px"
            >
              <!-- <button class="btn btn-primary" type="submit">
                <i class="fa-regular fa-paper-plane"></i> Submit RSVP
              </button> -->
              <!-- <a class="btn btn-ghost" id="calendar-link" href="#" target="_blank">
                <i class="fa-regular fa-calendar-plus"></i> Add to Calendar
              </a> -->
            </div>
            <p
              id="rsvp-status"
              style="margin-top: 8px; color: var(--muted)"
            ></p>
          </form> -->
        </div>

        <div class="card">
          <div
            class="flyer1"
            style="
              position: relative;
              aspect-ratio: 4/5;
              border-radius: 24px;
              overflow: hidden;
              border: 1px solid rgba(255, 255, 255, 0.08);
              box-shadow: 0 20px 60px var(--shadow);
            "
          >
            <img
              src="/cybernative.png"
              alt="Album Artwork / Artist Portrait"
              style="
                width: 100%;
                height: 100%;
                object-fit: cover;
                filter: saturate(1.1) contrast(1.05);
              "
            />
            <div
              class="sticker1"
              style="
                position: absolute;
                right: 14px;
                top: 14px;
                background: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.12);
                padding: 8px 12px;
                border-radius: 10px;
                font-weight: 700;
                display: flex;
                align-items: center;
                gap: 8px;
              "
            >
              <i class="fa-solid fa-headphones-simple"></i> Hi-Fi Preview
            </div>
            <div
              class="corner1"
              style="
                position: absolute;
                left: 0;
                bottom: 0;
                padding: 14px 16px;
                background: linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.65),
                  transparent
                );
                width: 100%;
                display: flex;
                justify-content: space-between;
                align-items: end;
              "
            >
              <div>
                <div class="pill1">
                  <i class="fa-solid fa-location-dot"></i> HYDE PARK
                </div>
              </div>
              <b>THU • 18:00</b>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div
        class="container"
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 16px;
          flex-wrap: wrap;
        "
      >
        <small>© 2025 Cybersec Clinique – All Rights Reserved</small>
        <div style="display: flex; gap: 14px; align-items: center">
          <a
            href="https://cybersec-clinique.co.za/"
            target="_blank"
            class="brand"
          >
            <img class="mark" src="/cyber.png" alt="Cybersec Clinique" />
          </a>
          <a href="#" class="brand">
            <img class="mark" src="/LOLLIE LOGO.png" alt="Amandla Logo" />
            <b>Amandla Listening Experience</b>
          </a>
        </div>
      </div>
    </footer>

    <script>
      // ---- Firebase (compat) ----
      const firebaseConfig = {
        apiKey: "AIzaSyAT2yqiArepzYR2B3fQemLhdbjMwbsi_aA",
        authDomain: "cybernative-fc60c.firebaseapp.com",
        projectId: "cybernative-fc60c",
        storageBucket: "cybernative-fc60c.firebasestorage.app",
        messagingSenderId: "862008823018",
        appId: "1:862008823018:web:c6821169109c536a9b9b93",
        measurementId: "G-KBGBRKR2H3",
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("rsvp-form");
        if (!form) return;

        // Save to Firestore (do NOT prevent default here so EmailJS can still run)
        form.addEventListener("submit", async () => {
          try {
            const payload = {
              name: form.name?.value?.trim() ?? "",
              email: form.email?.value?.trim() ?? "",
              phone: form.phone?.value?.trim() ?? "",
              guests: form.guests?.value ?? null, // may be undefined; that's fine
              attend: form.attend?.value ?? "",
              notes: form.notes?.value?.trim() ?? "",
              submittedAt: firebase.firestore.FieldValue.serverTimestamp(),
              userAgent: navigator.userAgent,
              page: location.href,
            };
            await db.collection("rsvps").add(payload);
            console.log("RSVP saved to Firestore");
          } catch (err) {
            console.error("Firestore write failed:", err);
          }
        });
      });
    </script>

    <script>
      // ---- Header on scroll ----
      const header = document.getElementById("header");
      const revealHeader = () => {
        if (!header) return;
        if (window.scrollY > 40) header.classList.add("visible");
        else header.classList.remove("visible");
      };
      revealHeader();
      window.addEventListener("scroll", revealHeader);

      // ---- EmailJS ----
      (function () {
        emailjs.init("Uo0A0uprHKDmk3url"); // replace with your EmailJS Public Key
      })();

      // ---- Calendar link (safe if commented out) ----
      const calLink = document.getElementById("calendar-link");
      function buildICS({ title, description, location, start, end }) {
        const pad = (n) => String(n).padStart(2, "0");
        const fmt = (d) =>
          `${d.getUTCFullYear()}${pad(d.getUTCMonth() + 1)}${pad(
            d.getUTCDate()
          )}T${pad(d.getUTCHours())}${pad(d.getUTCMinutes())}00Z`;
        const ics = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Album Listening//EN
BEGIN:VEVENT
UID:${Date.now()}@listening.local
DTSTAMP:${fmt(new Date())}
DTSTART:${fmt(start)}
DTEND:${fmt(end)}
SUMMARY:${title}
DESCRIPTION:${description}
LOCATION:${location}
END:VEVENT
END:VCALENDAR`;
        return "data:text/calendar;charset=utf8," + encodeURIComponent(ics);
      }
      if (calLink) {
        const start = new Date("2025-09-28T18:00:00+02:00");
        const end = new Date("2025-09-28T22:00:00+02:00");
        calLink.href = buildICS({
          title: "Album Listening Session",
          description: "Exclusive playback + Q&A. Guest list only.",
          location: "Hyde Park",
          start,
          end,
        });
      }

      // ---- RSVP + EmailJS ----for===
      const form = document.getElementById("rsvp-form");
      const statusEl = document.getElementById("rsvp-status");
      if (form && statusEl) {
        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          statusEl.textContent = "Sending…";
          try {
            const serviceID = "service_r4m5dxe"; // replace
            const templateID = "template_nst54u2"; // replace
            await emailjs.sendForm(serviceID, templateID, form);
            statusEl.textContent =
              "✅ You're on the list! Check your email for details.";
            form.reset();
          } catch (err) {
            console.error(err);
            statusEl.textContent =
              "❌ Could not send RSVP. Please try again or DM us.";
          }
        });
      }
    </script>

    <script>
      // ----- RSVP: hardened UX submit flow -----
      (function () {
        const form = document.getElementById("rsvp-form");
        const statusEl = document.getElementById("rsvp-status");
        const loader = document.getElementById("global-loader");
        const modal = document.getElementById("confirm-modal");
        const btnClose = document.getElementById("modal-close");
        const btnDone = document.getElementById("modal-done");

        if (!form) return;

        let isSubmitting = false;

        function toggleLoader(show) {
          if (!loader) return;
          loader.style.display = show ? "flex" : "none";
        }

        function toggleForm(form, disabled) {
          Array.from(form.elements).forEach((el) => {
            el.disabled = disabled;
          });
          const submit = form.querySelector('button[type="submit"]');
          if (submit) {
            submit.disabled = disabled;
            submit.textContent = disabled ? "Submitting…" : "Submit RSVP";
          }
        }

        function showModal(message) {
          const text = document.getElementById("confirm-text");
          if (text && message) text.textContent = message;
          if (modal) modal.style.display = "flex";
        }
        function hideModal() {
          if (modal) modal.style.display = "none";
        }

        // Close modal handlers
        btnClose?.addEventListener("click", hideModal);
        btnDone?.addEventListener("click", hideModal);
        modal?.addEventListener("click", (e) => {
          if (e.target === modal) hideModal();
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") hideModal();
        });

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          if (isSubmitting) return; // hard guard
          isSubmitting = true;

          // Capture values up-front
          const payload = {
            name: form.name?.value?.trim() ?? "",
            email: form.email?.value?.trim() ?? "",
            phone: form.phone?.value?.trim() ?? "",
            guests: form.guests?.value ?? null,
            attend: form.attend?.value ?? "",
            notes: form.notes?.value?.trim() ?? "",
            submittedAt: firebase.firestore.FieldValue.serverTimestamp(),
            userAgent: navigator.userAgent,
            page: location.href,
          };

          // UX: lock + show loader + clear immediately to avoid dupes
          toggleForm(form, true);
          statusEl && (statusEl.textContent = "");
          toggleLoader(true);
          form.reset(); // <- clears right away

          try {
            // Firestore + EmailJS in parallel
            const serviceID = "service_r4m5dxe"; // your existing ID
            const templateID = "template_nst54u2"; // your existing ID

            // For EmailJS template, make sure the field names match your template variables
            const emailParams = {
              name: payload.name,
              email: payload.email,
              phone: payload.phone,
              attend: payload.attend,
              notes: payload.notes,
            };

            await Promise.all([
              db.collection("rsvps").add(payload),
              emailjs.send(serviceID, templateID, emailParams),
            ]);

            showModal(
              "Thanks — your RSVP is confirmed. We’ve also emailed you a confirmation."
            );
          } catch (err) {
            console.error(err);
            showModal(
              "We couldn’t send your RSVP right now. Please try again in a bit or DM us."
            );
          } finally {
            toggleLoader(false);
            toggleForm(form, false);
            isSubmitting = false;
          }
        });
      })();
    </script>

    <!-- Removed the duplicate modular Firebase block to prevent conflicts -->
  </body>
</html>